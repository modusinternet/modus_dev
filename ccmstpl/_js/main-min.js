navActiveArray.forEach(function(a){$("#"+a).addClass("active")}),$(window).scroll(function(){var a=$(window).scrollTop();50<=a?($("header").addClass("header-scroll"),$("header img").addClass("header-div-a-img-scroll"),$("header div button").addClass("header-div-button-scroll"),$("nav").addClass("nav-scroll"),$(".scrollToTopButton").addClass("scrollToTopButton-active")):($("header").removeClass("header-scroll"),$("header img").removeClass("header-div-a-img-scroll"),$("header div button").removeClass("header-div-button-scroll"),$("nav").removeClass("nav-scroll"),$(".scrollToTopButton").removeClass("scrollToTopButton-active")),450<=a?($("header img").addClass("header-div-a-img-scroll-dropshadow"),$(".toggle").addClass("toggle-scroll-dropshadow")):($("header img").removeClass("header-div-a-img-scroll-dropshadow"),$(".toggle").removeClass("toggle-scroll-dropshadow"))}),!function(a,b){var d={init:function(f,g){var h=this;h.options=a.extend({},a.fn.nav.options,f),h.$body=a("body"),h.$nav=a(g),h.$menuButton=a(h.options.navButton),h.$subMenu=a(h.options.subMenu),h.subMenu=h.options.subMenu,h.mobileMode=h.isCurrentlyMobile(h),h.mouseOver=h.options.mouseOver,h.disableSubMenuLink=h.options.disableSubMenuLink,h.slideSpeed=h.options.slideSpeed,h.collapseSubMenus(h),h.bindEvents(h)},bindEvents:function(f){f.$menuButton.on("click",function(g){f.toggleNav(f),g.preventDefault()}),f.$nav.on("click",f.subMenu+" > a",function(g){var h=a(this);f.isSubMenuLinkDisabled(f,h)&&(f.toggleSubMenu(f,h.parent()),g.preventDefault())}),1==f.mouseOver&&(f.$nav.on("mouseenter",f.subMenu,function(){0==f.mobileMode&&f.openSubMenu(f,a(this))}),f.$nav.on("mouseleave",f.subMenu,function(){0==f.mobileMode&&f.closeSubMenu(f,a(this))})),a(b).on("resize",function(){f.resetNav(f)})},isSubMenuLinkDisabled:function(f,g){return"always"==f.disableSubMenuLink||"#"==g.attr("href")||"mobile"==f.disableSubMenuLink&&1==f.mobileMode||"desktop"==f.disableSubMenuLink&&0==f.mobileMode},toggleNav:function(f){f.$nav.stop().clearQueue().slideToggle(f.slideSpeed,function(){var g=a(this);g.is(":hidden")?(f.collapseSubMenus(f),a(this).attr("style","display: none;")):a(this).attr("style","display: block;")}),f.$body.toggleClass("nav-lock-scroll")},toggleSubMenu:function(f,g){g.hasClass("nav-active")?f.closeSubMenu(f,g):f.openSubMenu(f,g)},openSubMenu:function(f,g){g.addClass("nav-active").children("ul").stop().clearQueue().slideDown(f.slideSpeed,function(){a(this).attr("style","display: block;")}),g.siblings(f.subMenu).removeClass("nav-active").children("ul").slideUp(f.slideSpeed,function(){a(this).clearQueue()}).find(".nav-active").removeClass("nav-active").children("ul").slideUp(f.slideSpeed,function(){a(this).clearQueue()})},closeSubMenu:function(f,g){g.removeClass("nav-active").children("ul").stop().clearQueue().slideUp(f.slideSpeed,function(){a(this).attr("style","display: none;")}).find(".nav-active").removeClass("nav-active").children("ul").slideUp(f.slideSpeed,function(){a(this).clearQueue()})},resetNav:function(f){var g=f.isCurrentlyMobile(f);f.mobileMode!==g&&(f.$nav.removeAttr("style").find("ul").removeAttr("style"),f.$body.removeClass("nav-lock-scroll"),f.collapseSubMenus(f),f.mobileMode=g)},collapseSubMenus:function(f){f.$subMenu.removeClass("nav-active").children("ul").hide()},isCurrentlyMobile:function(f){return f.$menuButton.is(":visible")}};a.fn.nav=function(f){return this.each(function(){var g=Object.create(d);g.init(f,this)})},a.fn.nav.options={navButton:".toggle",subMenu:".submenu",mouseOver:!0,disableSubMenuLink:"always",slideSpeed:300}}(jQuery,window,document),"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),$("nav").nav(),window.setTimeout(function(){document.getElementById("loading_svg").style.opacity="0",window.setTimeout(function(){document.getElementById("loading_svg").style.display="none"},2e3)},500),window.setTimeout(function(){document.getElementsByTagName("header")[0].style.opacity="1"},500);var container=document.getElementById("msg"),svgButton=document.getElementById("msg-svg-fill");function msg_show(){document.getElementById("msg-svg-fill").classList.add("hide"),document.getElementById("msg").classList.remove("hide")}function msg_hide(){document.getElementById("msg-svg-fill").classList.remove("hide"),document.getElementById("msg").classList.add("hide")}document.addEventListener("click",function(a){container===a.target||svgButton===a.target||container.contains(a.target)||(svgButton.classList.remove("hide"),container.classList.add("hide"))}),$.validator.addMethod("badCharRegex",function(a,b,d){var f=new RegExp(d);return this.optional(b)||f.test(a)},"Please check your input."),$("#msgForm").validate({rules:{msgName:{required:!0,minlength:2,maxlength:32,badCharRegex:/^[^\<\>&#]+$/i},msgEmail:{required:!0,email:!0,maxlength:256},msgTextarea:{required:!0,maxlength:512,badCharRegex:/^[^\<\>&#]+$/i}},messages:{msgName:{required:"Please enter your full name.",minlength:"This field must be between 2 to 32 characters.",maxlength:"This field must be between 2 to 32 characters.",badCharRegex:"The following characters are not permited in this form. ( > < & # ) Please remove before submitting."},msgEmail:{required:"Please enter a valid email address.",maxlength:"Please try to keep your email address to 256 characters or less."},msgTextarea:{required:"Please include a short message indicating how we can help you.",maxlength:"Please try to keep your messages to 512 characters or less.",badCharRegex:"The following characters are not permited in this form. ( > < & # ) Please remove before submitting."}},errorPlacement:function(a,b){var d=b.attr("name");$("#error-"+d).append(a)},submitHandler:function(a){var b;b&&b.abort();var d=$(a).find("input,select,textarea,button"),f=$(a).serialize();return d.prop("disabled",!0),b=$.ajax({beforeSend:function(){$("#msgForm .has-error").removeClass("has-error"),$("#msgForm .help-block").html("").hide(),$("#msgFormMessage").removeClass("alert-success").html("")},cache:!1,data:f,dataType:"json",type:"post",url:"/{CCMS_LIB:_default.php;FUNC:ccms_lng}/msgForm-ajax.html"}),b.done(function(g){g.error&&(g.error.msgName&&($("#msgName").parent().addClass("has-error"),$("#error-msgName").html(g.error.msgName).slideDown()),g.error.msgEmail&&($("#msgEmail").parent().addClass("has-error"),$("#error-msgEmail").html(g.error.msgEmail).slideDown()),g.error.msgTextarea&&($("#msgTextarea").parent().addClass("has-error"),$("#error-msgTextarea").html(g.error.msgTextarea).slideDown()),d.prop("disabled",!1)),g.success&&($("#msgFormMessage").addClass("alert-success").html(g.success).slideDown(),setTimeout(function(){$("#msgFormMessage").slideUp("fast",function(){$(this).removeClass("alert-success").html("")})},5e3),$("#msgForm").find(".form-control").val(""),setTimeout(function(){d.prop("disabled",!1)},2e3))}),b.fail(function(g,h,j){$("#msgForm").html("The following error occurred: "+h,j)}),b.always(function(){setTimeout(function(){d.prop("disabled",!1)},5e3)}),!1}});function getCookie(a){for(var h,b=a+"=",d=decodeURIComponent(document.cookie),f=d.split(";"),g=0;g<f.length;g++){for(h=f[g];" "==h.charAt(0);)h=h.substring(1);if(0==h.indexOf(b))return h.substring(b.length,h.length)}return""}let cookie,deferredPrompt;const A2HSbox=document.getElementById("A2HS-box"),A2HSbox_no=document.getElementById("A2HS-box-no"),A2HSbox_yes=document.getElementById("A2HS-box-yes");window.addEventListener("beforeinstallprompt",a=>{cookie=getCookie("A2HSbox"),""==cookie&&(console.log("A2HSbox cookie not found and \"beforeinstallprompt\" event detected, dropping A2HS box."),a.preventDefault(),deferredPrompt=a,A2HSbox.classList.add("active"),A2HSbox_no.addEventListener("click",()=>{console.log("User dismissed A2HS prompt #1."),A2HSbox.classList.remove("active"),document.cookie="A2HSbox=1; max-age=15768000; path=/",deferredPrompt=null}),A2HSbox_yes.addEventListener("click",()=>{console.log("User accepted A2HS prompt #1."),A2HSbox.classList.remove("active"),deferredPrompt.prompt(),deferredPrompt.userChoice.then(d=>{"accepted"===d.outcome?console.log("User accepted A2HS prompt #2."):(console.log("User dismissed A2HS prompt #2."),document.cookie="A2HSbox=1; max-age=15768000; path=/"),deferredPrompt=null})}))});
