navActiveArray.forEach(function(e){$("#"+e).addClass("active")}),$(window).scroll(function(){var e=$(window).scrollTop();50<=e?($("header").addClass("header-scroll"),$("header img").addClass("header-div-a-img-scroll"),$("header div button").addClass("header-div-button-scroll"),$("nav").addClass("nav-scroll"),$(".scrollToTopButton").addClass("scrollToTopButton-active")):($("header").removeClass("header-scroll"),$("header img").removeClass("header-div-a-img-scroll"),$("header div button").removeClass("header-div-button-scroll"),$("nav").removeClass("nav-scroll"),$(".scrollToTopButton").removeClass("scrollToTopButton-active")),450<=e?($("header img").addClass("header-div-a-img-scroll-dropshadow"),$(".toggle").addClass("toggle-scroll-dropshadow")):($("header img").removeClass("header-div-a-img-scroll-dropshadow"),$(".toggle").removeClass("toggle-scroll-dropshadow"))}),function(n,e){var s={init:function(e,s){var t=this;t.options=n.extend({},n.fn.nav.options,e),t.$body=n("body"),t.$nav=n(s),t.$menuButton=n(t.options.navButton),t.$subMenu=n(t.options.subMenu),t.subMenu=t.options.subMenu,t.mobileMode=t.isCurrentlyMobile(t),t.mouseOver=t.options.mouseOver,t.disableSubMenuLink=t.options.disableSubMenuLink,t.slideSpeed=t.options.slideSpeed,t.collapseSubMenus(t),t.bindEvents(t)},bindEvents:function(t){t.$menuButton.on("click",function(e){t.toggleNav(t),e.preventDefault()}),t.$nav.on("click",t.subMenu+" > a",function(e){var s=n(this);t.isSubMenuLinkDisabled(t,s)&&(t.toggleSubMenu(t,s.parent()),e.preventDefault())}),1==t.mouseOver&&(t.$nav.on("mouseenter",t.subMenu,function(){0==t.mobileMode&&t.openSubMenu(t,n(this))}),t.$nav.on("mouseleave",t.subMenu,function(){0==t.mobileMode&&t.closeSubMenu(t,n(this))})),n(e).on("resize",function(){t.resetNav(t)})},isSubMenuLinkDisabled:function(e,s){return"always"==e.disableSubMenuLink||"#"==s.attr("href")||"mobile"==e.disableSubMenuLink&&1==e.mobileMode||"desktop"==e.disableSubMenuLink&&0==e.mobileMode},toggleNav:function(e){e.$nav.stop().clearQueue().slideToggle(e.slideSpeed,function(){n(this).is(":hidden")?(e.collapseSubMenus(e),n(this).attr("style","display: none;")):n(this).attr("style","display: block;")}),e.$body.toggleClass("nav-lock-scroll")},toggleSubMenu:function(e,s){s.hasClass("nav-active")?e.closeSubMenu(e,s):e.openSubMenu(e,s)},openSubMenu:function(e,s){s.addClass("nav-active").children("ul").stop().clearQueue().slideDown(e.slideSpeed,function(){n(this).attr("style","display: block;")}),s.siblings(e.subMenu).removeClass("nav-active").children("ul").slideUp(e.slideSpeed,function(){n(this).clearQueue()}).find(".nav-active").removeClass("nav-active").children("ul").slideUp(e.slideSpeed,function(){n(this).clearQueue()})},closeSubMenu:function(e,s){s.removeClass("nav-active").children("ul").stop().clearQueue().slideUp(e.slideSpeed,function(){n(this).attr("style","display: none;")}).find(".nav-active").removeClass("nav-active").children("ul").slideUp(e.slideSpeed,function(){n(this).clearQueue()})},resetNav:function(e){var s=e.isCurrentlyMobile(e);e.mobileMode!==s&&(e.$nav.removeAttr("style").find("ul").removeAttr("style"),e.$body.removeClass("nav-lock-scroll"),e.collapseSubMenus(e),e.mobileMode=s)},collapseSubMenus:function(e){e.$subMenu.removeClass("nav-active").children("ul").hide()},isCurrentlyMobile:function(e){return e.$menuButton.is(":visible")}};n.fn.nav=function(e){return this.each(function(){Object.create(s).init(e,this)})},n.fn.nav.options={navButton:".toggle",subMenu:".submenu",mouseOver:!0,disableSubMenuLink:"always",slideSpeed:300}}(jQuery,window,document),"function"!=typeof Object.create&&(Object.create=function(e){function s(){}return s.prototype=e,new s}),$("nav").nav(),window.setTimeout(function(){document.getElementById("loading_svg").style.opacity="0"},500),window.setTimeout(function(){document.getElementsByTagName("header")[0].style.opacity="1"},500);var container=document.getElementById("msg"),svgButton=document.getElementById("msg-svg-fill");function msg_show(){document.getElementById("msg-svg-fill").classList.add("hide"),document.getElementById("msg").classList.remove("hide")}function msg_hide(){document.getElementById("msg-svg-fill").classList.remove("hide"),document.getElementById("msg").classList.add("hide")}document.addEventListener("click",function(e){container===e.target||svgButton===e.target||container.contains(e.target)||(svgButton.classList.remove("hide"),container.classList.add("hide"))}),$.validator.addMethod("badCharRegex",function(e,s,t){var n=new RegExp(t);return this.optional(s)||n.test(e)},"Please check your input."),$("#msgForm").validate({rules:{msgName:{required:!0,minlength:2,maxlength:32,badCharRegex:/^[^\<\>&#]+$/i},msgEmail:{required:!0,email:!0,maxlength:256},msgTextarea:{required:!0,maxlength:512,badCharRegex:/^[^\<\>&#]+$/i}},messages:{msgName:{required:"Please enter your full name.",minlength:"This field must be between 2 to 32 characters.",maxlength:"This field must be between 2 to 32 characters.",badCharRegex:"The following characters are not permited in this form. ( > < & # ) Please remove before submitting."},msgEmail:{required:"Please enter a valid email address.",maxlength:"Please try to keep your email address to 256 characters or less."},msgTextarea:{required:"Please include a short message indicating how we can help you.",maxlength:"Please try to keep your messages to 512 characters or less.",badCharRegex:"The following characters are not permited in this form. ( > < & # ) Please remove before submitting."}},errorPlacement:function(e,s){var t=s.attr("name");$("#error-"+t).append(e)},submitHandler:function(e){var s;s&&s.abort();var t=$(e).find("input,select,textarea,button"),n=$(e).serialize();return t.prop("disabled",!0),(s=$.ajax({beforeSend:function(e){$("#msgForm .has-error").removeClass("has-error"),$("#msgForm .help-block").html("").hide(),$("#msgFormMessage").removeClass("alert-success").html("")},cache:!1,data:n,dataType:"json",type:"post",url:"/{CCMS_LIB:_default.php;FUNC:ccms_lng}/msgForm-ajax.html"})).done(function(e,s){e.error&&(e.error.msgName&&($("#msgName").parent().addClass("has-error"),$("#error-msgName").html(e.error.msgName).slideDown()),e.error.msgEmail&&($("#msgEmail").parent().addClass("has-error"),$("#error-msgEmail").html(e.error.msgEmail).slideDown()),e.error.msgTextarea&&($("#msgTextarea").parent().addClass("has-error"),$("#error-msgTextarea").html(e.error.msgTextarea).slideDown()),t.prop("disabled",!1)),e.success&&($("#msgFormMessage").addClass("alert-success").html(e.success).slideDown(),setTimeout(function(){$("#msgFormMessage").slideUp("fast",function(){$(this).removeClass("alert-success").html("")})},5e3),$("#msgForm").find(".form-control").val(""),setTimeout(function(){t.prop("disabled",!1)},2e3))}),s.fail(function(e,s,t){$("#msgForm").html("The following error occurred: "+s,t)}),s.always(function(){setTimeout(function(){t.prop("disabled",!1)},5e3)}),!1}});
